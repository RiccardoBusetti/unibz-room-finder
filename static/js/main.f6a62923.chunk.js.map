{"version":3,"sources":["contexts/AppContext.js","hooks/useAppContext.js","components/AvailabilityResults.jsx","components/SearchBar.jsx","utils/functions.js","components/SearchCard.jsx","api/base.js","api/availability.js","theming/theme.js","App.js","hooks/useData.js","index.js"],"names":["AppContext","createContext","useAppContext","useContext","useStyles","makeStyles","theme","resultsContainer","borderRadius","padding","spacing","resultsContainerEmpty","color","backgroundImage","backgroundRepeat","backgroundSize","height","resultsContainerFull","divider","marginTop","Availability","availability","Grid","container","item","xs","Typography","variant","day","from","to","AvailabilityResults","classes","appData","useSnackbar","enqueueSnackbar","closeSnackbar","error","isDayEmpty","isDayFull","availabilities","length","pageStyle","description","Paper","className","root","room","map","innerAvailability","index","Divider","inputRoot","fontSize","width","inputInput","paddingLeft","search","position","marginRight","marginLeft","searchIconContainer","pointerEvents","display","alignItems","justifyContent","loadingIndicatorContainer","searchIcon","SearchBar","performSearch","onSearching","isLoading","useState","CircularProgress","disableShrink","size","thickness","SearchRounded","InputBase","placeholder","input","inputProps","onChange","event","target","value","onKeyPress","key","preventDefault","formatDateForServer","date","moment","format","searchCard","boxShadow","datePicker","SearchCard","setRoom","Date","selectedDay","setSelectedDay","checkAvailabilityFor","useEffect","direction","md","newRoom","isLoadingAvailability","onDayChange","AVAILABILITY_ENDPOINT","checkAvailability","cancelToken","a","console","log","axios","get","params","deviceTime","responsiveFontSizes","createTheme","palette","primary","main","secondary","light","margin","unibz","Home","href","rel","App","data","undefined","setAvailability","setLoadingAvailability","localSource","setLocalSource","setError","cancel","newLocalSource","CancelToken","source","token","response","useData","maxSnack","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f6a62923.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nconst AppContext = createContext({});\n\nexport default AppContext;\n","import { useContext } from \"react\";\nimport AppContext from \"../contexts/AppContext\";\n\nexport default function useAppContext() {\n    return useContext(AppContext);\n}\n","import { Divider, Grid, makeStyles, Paper, Typography } from '@material-ui/core';\nimport { useSnackbar } from 'notistack';\nimport useAppContext from '../hooks/useAppContext';\n\nconst useStyles = makeStyles((theme) => ({\n    resultsContainer: {\n        borderRadius: 20,\n        padding: theme.spacing(2)\n    },\n    resultsContainerEmpty: {\n        borderRadius: 20,\n        padding: theme.spacing(2),\n        color: 'white',\n        backgroundImage: 'url(https://i.pinimg.com/originals/86/74/a9/8674a918f3765e5ab9f1191ad5811713.gif)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        height: '256px'\n    },\n    resultsContainerFull: {\n        borderRadius: 20,\n        padding: theme.spacing(2),\n        color: 'white',\n        backgroundImage: 'url(https://c.tenor.com/djA9WbTjKOEAAAAC/angry-bird.gif)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        height: '256px'\n    },\n    divider: {\n        marginTop: theme.spacing(2),\n    }\n}));\n\nfunction AvailabilityResults() {\n    const classes = useStyles();\n    const appData = useAppContext();\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    if (appData.error) {\n        enqueueSnackbar(appData.error, { variant: \"error\" });\n        return <></>;\n    }\n\n    const availability = appData.availability;\n\n    const isDayEmpty = availability && availability.isDayEmpty;\n    const isDayFull = availability && !availability.isDayEmpty && availability.availabilities.length === 0;\n\n    var pageStyle = classes.resultsContainer;\n    if (isDayEmpty) {\n        pageStyle = classes.resultsContainerEmpty;\n    } else if (isDayFull) {\n        pageStyle = classes.resultsContainerFull;\n    }\n\n    var description = \"The following timeslots are available\";\n    if (isDayEmpty) {\n        description = \"The room is empty ü§©\";\n    } else if (isDayFull) {\n        description = \"The room is full for the day üò≠\";\n    }\n\n    return (\n        <>\n            {\n                availability &&\n                <Paper\n                    className={pageStyle}\n                    variant=\"outlined\"\n                >\n                    <Grid\n                        className={classes.root}\n                        container\n                        spacing={2}\n                    >\n                        <Grid item xs={12}>\n                            <Typography variant=\"h4\"><b>{availability.room}</b></Typography>\n                            <Typography variant=\"subtitle1\">{description}</Typography>\n                        </Grid>\n                        {\n                            !isDayEmpty &&\n                            !isDayFull &&\n                            availability.availabilities.map(((innerAvailability, index) => <Grid key={index} item xs={12}>\n                                <Availability availability={innerAvailability} />\n                                {index < availability.availabilities.length - 1 && <Divider className={classes.divider} />}\n                            </Grid>))\n                        }\n                        <Grid item xs={12}>\n                            <Typography variant=\"subtitle2\">\n                                <i>Please note that it is your responsability if you decide to go in a room without permission. I do not take any responsability in case of any problems.</i>\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </Paper>\n            }\n        </>\n\n    )\n}\n\nfunction Availability({ availability }) {\n    return (\n        <Grid\n            container\n        >\n            <Grid item xs={12}>\n                <Typography variant=\"subtitle2\">{availability.day}</Typography>\n            </Grid>\n            <Grid item xs={12}>\n                <Typography variant=\"h6\"><b>{availability.from} - {availability.to}</b></Typography>\n            </Grid>\n        </Grid>\n    );\n}\n\nexport default AvailabilityResults;","import { CircularProgress, InputBase } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { SearchRounded } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme) => ({\n    inputRoot: {\n        color: 'inherit',\n        fontSize: 18,\n        width: '100%',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1),\n        paddingLeft: `calc(1em + ${theme.spacing(1.5)}px)`,\n        width: '100%',\n    },\n    search: {\n        position: 'relative',\n        marginRight: theme.spacing(1),\n        marginLeft: theme.spacing(1),\n    },\n    searchIconContainer: {\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    loadingIndicatorContainer: {\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    searchIcon: {\n        color: \"grey\",\n    },\n}));\n\nexport default function SearchBar({ performSearch, onSearching, isLoading }) {\n    const classes = useStyles();\n\n    const [room, setRoom] = useState();\n\n    return (\n        <div className={classes.search}>\n            <div className={classes.searchIconContainer}>\n                {isLoading ? (\n                    <CircularProgress\n                        variant=\"indeterminate\"\n                        disableShrink\n                        color=\"secondary\"\n                        size={20}\n                        thickness={4}\n                    />\n                ) : (\n                    <SearchRounded className={classes.searchIcon} />\n                )}\n            </div>\n            <InputBase\n                placeholder=\"Check availability by room name\"\n                classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                }}\n                inputProps={{ 'aria-label': 'search' }}\n                onChange={(event) => onSearching(event.target.value)}\n                onKeyPress={(event) => {\n                    if (event.key === 'Enter') {\n                        performSearch();\n                        event.preventDefault();\n                    }\n                }}\n            />\n        </div>\n    );\n}","import moment from \"moment\";\n\nexport const debounce = (func, timeout) => {\n    let timer;\n    return (...args) => {\n        clearTimeout(timer);\n        timer = setTimeout(() => func.apply(this, args), timeout);\n    };\n};\n\nexport const formatDateForServer = (date) => {\n    return moment(date).format(\"YYYY-MM-DD HH:mm\")\n}\n\nexport const transformAvailabilities = (availabilities) => {\n    if (!availabilities) return []\n\n    return availabilities.map(availability => {\n        var day = undefined;\n        if (availability.from != null) {\n            day = moment(availability.from).format('LL')\n        } else if (availability.to != null) {\n            day = moment(availability.to).format('LL')\n        }\n\n        return {\n            day: day,\n            from: availability.from == null ? \"University opening\" : moment(availability.from).format(\"HH:mm\"),\n            to: availability.to == null ? \"University closing\" : moment(availability.to).format(\"HH:mm\")\n        }\n    })\n}","import React, { useEffect, useState } from 'react';\nimport { Grid, Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SearchBar from './SearchBar';\nimport { debounce } from '../utils/functions';\nimport useAppContext from '../hooks/useAppContext';\nimport 'react-day-picker/lib/style.css';\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\n\nconst useStyles = makeStyles((theme) => ({\n    searchCard: {\n        position: 'relative',\n        borderRadius: 20,\n        height: 'auto',\n        '&:hover': {\n            boxShadow: `0px 10px 25px -5px grey`,\n        }\n    },\n    datePicker: {\n        width: '100%'\n    }\n}));\n\nexport default function SearchCard() {\n    const classes = useStyles();\n    const appData = useAppContext();\n\n    const [room, setRoom] = useState();\n    const [selectedDay, setSelectedDay] = useState(new Date());\n\n    const performSearch = () => {\n        appData.checkAvailabilityFor(room, selectedDay);\n    }\n\n\n    useEffect(() => {\n        if (room) {\n            performSearch();\n        }\n    }, [selectedDay]);\n\n    return (\n        <Grid\n            container\n            direction=\"row\"\n            alignItems=\"center\"\n            spacing={2}\n        >\n            <Grid item xs={12} md={10}>\n                <Paper\n                    className={classes.searchCard}\n                    variant=\"outlined\"\n                >\n                    <SearchBar\n                        performSearch={performSearch}\n                        onSearching={(newRoom) => setRoom(newRoom)}\n                        isLoading={appData.isLoadingAvailability}\n                    />\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={2}>\n                <DayPickerInput className={classes.datePicker} value={selectedDay} onDayChange={day => setSelectedDay(day)} />\n            </Grid>\n        </Grid>\n    );\n}","export const BASE_URL = `https://elencho-scraper.herokuapp.com`;\n\nexport const AVAILABILITY_ENDPOINT = `${BASE_URL}/availability`;","import axios from 'axios';\nimport { AVAILABILITY_ENDPOINT } from './base';\n\nconst checkAvailability = async (room, date, cancelToken) => {\n    console.log(`Checking availability for ${room} on ${date}`);\n    return await axios.get(AVAILABILITY_ENDPOINT, {\n        params: { room, deviceTime: date },\n        cancelToken,\n    })\n};\n\nexport default checkAvailability;","import { createTheme, responsiveFontSizes } from '@material-ui/core/styles';\n\nexport const themedBorderRadius = 20;\n\nexport default responsiveFontSizes(\n    createTheme({\n        palette: {\n            primary: {\n                main: '#007be4',\n            },\n            secondary: {\n                main: '#007be4',\n                light: '#007be4',\n            }\n        }\n    })\n);\n","import { Grid, makeStyles, MuiThemeProvider, Typography } from '@material-ui/core';\nimport { SnackbarProvider } from 'notistack';\nimport './App.css';\nimport AvailabilityResults from './components/AvailabilityResults';\nimport SearchCard from './components/SearchCard';\nimport AppContext from './contexts/AppContext';\nimport useData from './hooks/useData';\nimport theme from './theming/theme';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100vh\",\n    margin: theme.spacing(2)\n  },\n  unibz: {\n    color: '#007be4'\n  }\n}));\n\nfunction App() {\n  const data = useData();\n\n  return (\n    <SnackbarProvider maxSnack={1}>\n      <AppContext.Provider value={data}>\n        <MuiThemeProvider theme={theme}>\n          <Home />\n        </MuiThemeProvider>\n      </AppContext.Provider>\n    </SnackbarProvider>\n  );\n}\n\nfunction Home() {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      className={classes.root}\n      container\n      direction=\"row\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      <Grid item xs={12} md={6}>\n        <Grid\n          container\n          direction=\"row\"\n          spacing={2}\n        >\n          <Grid item xs={12}>\n            <Typography variant=\"h3\"><b className={classes.unibz}>unibz</b> room finder</Typography>\n            <Typography variant=\"subtitle1\">\n              Made with ‚ù§Ô∏è by <a href=\"https://riccardobusetti.xyz\" target=\"_blank\" rel=\"noreferrer\">Riccardo Busetti</a>\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <SearchCard />\n          </Grid>\n          <Grid item xs={12}>\n            <AvailabilityResults />\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default App;\n","import { useState } from \"react\";\nimport checkAvailability from \"../api/availability\";\nimport { formatDateForServer, transformAvailabilities } from \"../utils/functions\";\nimport axios from 'axios';\n\nexport default function useData() {\n    const [availability, setAvailability] = useState(undefined);\n    const [isLoadingAvailability, setLoadingAvailability] = useState(false);\n    const [localSource, setLocalSource] = useState(undefined);\n    const [error, setError] = useState(undefined);\n\n    const checkAvailabilityFor = async (room, date) => {\n        if (localSource) {\n            localSource.cancel();\n            setLocalSource(undefined);\n        }\n\n        if (room) {\n            try {\n                setError(undefined);\n                setLoadingAvailability(true);\n                const newLocalSource = axios.CancelToken.source();\n                const response = await checkAvailability(room, formatDateForServer(date), newLocalSource.token);\n                setLocalSource(newLocalSource);\n                setLoadingAvailability(false);\n\n                if (response.data) {\n                    const data = {\n                        room: response.data.room,\n                        isDayEmpty: response.data.isDayEmpty,\n                        availabilities: transformAvailabilities(response.data.availabilities)\n                    };\n                    console.log(\"Availability received\");\n                    console.log(data);\n\n                    setAvailability(data);\n                }\n            } catch (err) {\n                setAvailability(undefined);\n                setLoadingAvailability(false);\n                setError(\"An error occurred while loading the room availabilities, try again.\");\n            }\n        } else {\n            setAvailability(undefined);\n        }\n    }\n\n    return {\n        availability,\n        error,\n        isLoadingAvailability,\n        checkAvailabilityFor\n    };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}